<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <title><%= title %></title>
    </head>

    <body>
      <form action="/addProfile" method="post" className="inputField" id="searchForm">
        <div style="width: 250px; height: 150px; border: 1px solid; border-radius: 2em; display: table-cell; vertical-align: middle; padding-left: 10px;">
            <span id="user_id">아이디 : <%=row.user_id%></span>
            <br>
            <span id="age">연령대 : <%=row.age%></span>
            <br>
            <span id="gender">성별 : <%=row.gender%></span>
            <br>
            <span id="job">직업 : <%=row.job%></span>
            <br>
            <span id="home_input">거주지 :
                <input type="text" name="home" id="home" value="<%=row.home%>" placeholder="거주지(시) 입력">
                <label><input type="checkbox" name="delHome" id="delHome" onclick="checkHome(this)">거주지 삭제</label>
            </span>
        </div>
        <br>
        <p id="intro_input" style="border: 1px solid;">자기소개 :
            <input type="text" name="introduction" id="introduction" value="<%=row.introduction%>" placeholder="소개 입력">
            <label><input type="checkbox" name="delIntro" id="delIntro" onclick="checkIntro(this)">자기소개 삭제</label>
        </p>
        <br>
        <span style="width: 25%; display: inline-block; text-align: right;">My 게시물</span>
        <span style="width: 25%; display: inline-block; text-align: right;">구독 유저</span>
        <span style="width: 25%; display: inline-block; text-align: right;">스크랩 게시물</span>
        <br><br>
        <button type="submit" id="addProfile">완료</button>
        <button type="reset">초기화</button>
      </form>

      <script>
        // input없이 submit했을 때 오류 창
        let sf=document.getElementById("searchForm");
        sf.addEventListener("submit", function(e) {
            let homeEle = document.getElementById("home");
            let introEle = document.getElementById("introduction");
            if(homeEle.disabled==false && introEle.disabled==false) {
                if(homeEle.value.length==0 && introEle.value.length==0) {
                    alert('Please fill out the form!');
                    e.preventDefault();
                }
            }
        });
        
        // 체크박스 선택 여부
        function checkHome(checkbox) {
            const textbox_elem = document.getElementById("home");
            textbox_elem.disabled = checkbox.checked ? true : false;
            if(textbox_elem.disabled) textbox_elem.value = null;
            else textbox_elem.focus();
        }

        function checkIntro(checkbox) {
            const textbox_elem = document.getElementById("introduction");
            textbox_elem.disabled = checkbox.checked ? true : false;
            if(textbox_elem.disabled) textbox_elem.value = null;
            else textbox_elem.focus();
        }
      </script>

      <a href="/profile">뒤로가기</a>
    </body>
</html>
